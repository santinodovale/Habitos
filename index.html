<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aplicación de Seguimiento de Hábitos</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="seguimiento-habitos">
        <!-- Botones de navegación entre secciones -->
        <div class="pestañas">
            <button onclick="mostrarSeccion('seccion-agregar-habito')">Agregar Hábito</button>
            <button onclick="mostrarSeccion('seccion-ver-habitos')">Ver Hábitos</button>
        </div>

        <!-- Sección para agregar un nuevo hábito -->
        <div id="seccion-agregar-habito" class="seccion activa">
            <h2>Agregar Nuevo Hábito</h2>
            <!-- Contenedor del contenido oculto -->
            <div id="contenido-agregar-habito" class="contenido-oculto">
                <form id="formulario-agregar-habito">
                    <input type="text" id="nombre-habito" placeholder="Nombre del Hábito" required>

                    <!-- Checkbox para activar notificación diaria -->
                    <label>
                        <input type="checkbox" id="notificacion-diaria" onclick="seleccionarDias()">
                        Notificación Diaria
                    </label>

                    <!-- Botones de cada día de la semana -->
                    <div id="dias-semana">
                        <input type="checkbox" id="lunes" name="dia" value="Lunes">
                        <label for="lunes">L</label>

                        <input type="checkbox" id="martes" name="dia" value="Martes">
                        <label for="martes">M</label>

                        <input type="checkbox" id="miercoles" name="dia" value="Miércoles">
                        <label for="miercoles">M</label>

                        <input type="checkbox" id="jueves" name="dia" value="Jueves">
                        <label for="jueves">J</label>

                        <input type="checkbox" id="viernes" name="dia" value="Viernes">
                        <label for="viernes">V</label>

                        <input type="checkbox" id="sabado" name="dia" value="Sábado">
                        <label for="sabado">S</label>

                        <input type="checkbox" id="domingo" name="dia" value="Domingo">
                        <label for="domingo">D</label>
                    </div>

                    <!-- Opciones de frecuencia de notificación siempre visibles -->
                    <div id="opciones-notificacion">
                        <label>
                            <input type="radio" name="tipo-notificacion" value="frecuencia-horas">
                            Cada cuántas horas:
                            <input type="number" id="frecuencia-horas" placeholder="Horas" min="1">
                        </label>

                        <label>
                            <input type="radio" name="tipo-notificacion" value="hora-especifica">
                            Hora específica del día:
                            <input type="time" id="hora-especifica">
                        </label>
                    </div>

                    <button type="submit">Agregar Hábito</button>
                </form>
            </div>
        </div>

        <!-- Sección para visualizar hábitos y sus gráficos -->
        <div id="seccion-ver-habitos" class="seccion">
            <h2>Ver Hábitos y Progreso</h2>
            <div id="progreso-habitos">
                <div class="progreso-habito-item">
                    <h3>Hábito de Ejemplo</h3>
                    <canvas id="grafico-habito-ejemplo"></canvas>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Función para mostrar y ocultar el contenido del formulario de "Agregar Hábito"
        function mostrarSeccion(idSeccion) {
            document.querySelectorAll('.seccion').forEach(seccion => {
                seccion.classList.remove('activa');
            });
            
            const seccionSeleccionada = document.getElementById(idSeccion);
            if (seccionSeleccionada) {
                seccionSeleccionada.classList.add('activa');
            } else {
                console.error(`Sección con id ${idSeccion} no encontrada.`);
            }

            if (idSeccion === 'seccion-agregar-habito') {
                // Alternar visibilidad del contenido al pulsar el botón "Agregar Hábito"
                const contenido = document.getElementById('contenido-agregar-habito');
                contenido.classList.toggle('visible');
            }
        }

        // Función para seleccionar todos los días cuando se activa "Notificación Diaria"
        function seleccionarDias() {
            const notificacionDiaria = document.getElementById('notificacion-diaria').checked;
            const checkboxesDias = document.querySelectorAll('#dias-semana input[type="checkbox"]');
            
            checkboxesDias.forEach(checkbox => {
                checkbox.checked = notificacionDiaria;
            });
        }
    </script>
</body>
</html>
